# Next Train Wear

## Issue Tracker

### Version 1

* [x] :bangbang: Приложение падает в режиме полета.
* [x] :thought_balloon: Кэшировать ответы API.
* [x] :thought_balloon: Обратный отсчет.
* [x] :thought_balloon: Логгировать запросы к API в Google Analytics.
* [x] :thought_balloon: Отображать отсутствие рейсов.
* [x] :thought_balloon: Затенять экран в ambient mode.
* [x] :thought_balloon: Обновление статуса рейса.
* [x] :thought_balloon: Добавить стабильные ID в адаптеры.
* [ ] :thought_balloon: Прокручивать список рейсов, когда поезд уходит.
* [x] :thought_balloon: Улучшить отображение отсутствия рейсов: добавить станцию отправления, выделить станции жирным шрифтом и вывести текущее время.
* [x] :bangbang: Таймер перестает обновляться в ambient mode, система все же засыпает. Вариант: периодически будить `AlarmManager`-ом.
* [x] :thought_balloon: Скрыть экран настроек до следующего обновления.
* [x] :warning: Не отображаются опаздывающие рейсы, если planned departure time прошло.
* [x] :warning: Добавить маршрут в аналитику события `call_train_planner` и проверить, почему не видны значения параметров `departure_code` и `destination_code`.
* [x] :thought_balloon: Проверить, что `onAttached` и `onDetached` работают как ожидается.
* [x] :warning: Кэш не должен зависеть от UI.
* [x] :bangbang: Приложение продолжает отправлять запросы в закрытом состоянии (нужно поскроллить вправо-влево перед закрытием).
* [ ] :bangbang: Несмотря на стабильные ID, список рейсов не сохраняет текущую позицию при обновлении. Вызвано обновлением рейсов.

## Version 2

* [ ] :thought_balloon: Голландский язык.
* [ ] :thought_balloon: Уведомлять про изменение или отмену рейса.
* [ ] :warning: Не обновлять `JourneyOptionsAdapter`, если данные не изменились.
* [ ] :thought_balloon: Уведомления об изменении статуса рейса.
* [ ] :thought_balloon: Отправлять запрос только когда прокрутка завершена (debouncing). Возможно, добавить задержку перед запросом.
* [ ] :thought_balloon: Выделять цветом отправившиеся рейсы.
* [ ] :thought_balloon: Жесты запястьем.

### Future Versions

* [ ] :thought_balloon: Экран настроек.
* [ ] :thought_balloon: Выделять изменение платформы.
* [ ] :thought_balloon: Показывать отмеченные станции вверху списка.
* [ ] :thought_balloon: Выводить тип поезда.
* [ ] :thought_balloon: Выводить длину поезда и удобства.
* [ ] :thought_balloon: Отображать число пересадок.
* [ ] :thought_balloon: Выключать фильтрацию отмененных рейсов в настройках и выделять их цветом фона. Помнить про фон в ambient mode.
* [ ] :thought_balloon: Ручной выбор станции отправления.
* [ ] :thought_balloon: Подумать над редизайном экрана с обратным отсчетом.
* [ ] :thought_balloon: Обучающие подсказки.
* [ ] :thought_balloon: Отключать сглаживание в ambient mode.
* [ ] :thought_balloon: Отключать анимацию в ambient mode.
* [ ] :thought_balloon: Выводить текущее время на экране с рейсом.
* [ ] :thought_balloon: Exponential backoff на вызове `trainPlanner`.
* [ ] :thought_balloon: Включать/выключать текущее местоположение в настройках.
* [ ] :thought_balloon: Режим "В пути". Возможный дубликат.
* [ ] :thought_balloon: Периодически обновлять местоположение и станцию отправления, сохраняя станцию прибытия. Это позволит ехать с запущенным приложением и быстро подгружать пересадки.
* [ ] :thought_balloon: Отображать статус рейса (опаздывает, отправился, отменен).
